# ูุธุงู ุงูุตูุงุญูุงุช ูุงูุฃุฏูุงุฑ (Spatie Laravel Permission)

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅุถุงูุฉ ูุธุงู ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช ูุงูุฃุฏูุงุฑ ุจุงุณุชุฎุฏุงู ุญุฒูุฉ Spatie Laravel Permission. ูุชูุญ ูุฐุง ุงููุธุงู ุฅููุงููุฉ ุฅูุดุงุก ุฃุฏูุงุฑ ูุฎุตุตุฉ ูุชุนููู ุตูุงุญูุงุช ูุญุฏุฏุฉ ููู ุฏูุฑ.

## ุงููููุฒุงุช

### ๐ญ ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ
- ุฅูุดุงุก ุฃุฏูุงุฑ ุฌุฏูุฏุฉ (ูุซู "Role parman")
- ุชุนููู ุตูุงุญูุงุช ูุญุฏุฏุฉ ููู ุฏูุฑ
- ุชุนุฏูู ุงูุฃุฏูุงุฑ ุงูููุฌูุฏุฉ
- ุญุฐู ุงูุฃุฏูุงุฑ (ูุน ุญูุงูุฉ ุฏูุฑ ุงููุฏูุฑ)

### ๐ ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช
- ุฃูุซุฑ ูู 100 ุตูุงุญูุฉ ูุญุฏุฏุฉ ูุณุจูุงู
- ุตูุงุญูุงุช ููุธูุฉ ุญุณุจ ุงูุฃูุณุงู (Users, Sessions, Drinks, etc.)
- ุฅููุงููุฉ ุชุนููู ุตูุงุญูุงุช ูุชุนุฏุฏุฉ ูุฏูุฑ ูุงุญุฏ

## ุงูุงุณุชุฎุฏุงู

### ุงููุตูู ุฅูู ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ
1. ุณุฌู ุงูุฏุฎูู ููุฏูุฑ
2. ุงูุชูู ุฅูู `/roles`
3. ููููู ุฑุคูุฉ ุฌููุน ุงูุฃุฏูุงุฑ ุงูููุฌูุฏุฉ

### ุฅูุดุงุก ุฏูุฑ ุฌุฏูุฏ
1. ุงุถุบุท ุนูู ุฒุฑ "ุฅุถุงูุฉ ุฏูุฑ ุฌุฏูุฏ"
2. ุฃุฏุฎู ุงุณู ุงูุฏูุฑ (ูุซู "Role parman")
3. ุงุฎุชุฑ ุงูุตูุงุญูุงุช ุงููุทููุจุฉ ูู ุงููุงุฆูุฉ
4. ุงุถุบุท "ุญูุธ"

### ูุซุงู: ุฅูุดุงุก ุฏูุฑ "Role parman" ูุน ุตูุงุญูุงุช ุงููุดุฑูุจุงุช
1. ุงุณู ุงูุฏูุฑ: `Role parman`
2. ุงุฎุชุฑ ุงูุตูุงุญูุงุช:
   - `view drinks` (ุนุฑุถ ูุณู ุงููุดุฑูุจุงุช)
   - `edit drinks` (ุชุนุฏูู ูุณู ุงููุดุฑูุจุงุช)
   - `create drinks` (ุฅุถุงูุฉ ูุดุฑูุจุงุช)
   - `delete drinks` (ุญุฐู ูุดุฑูุจุงุช)

### ุชุนุฏูู ุฏูุฑ ููุฌูุฏ
1. ุงุถุบุท ุนูู ุฒุฑ "ุชุนุฏูู" ุจุฌุงูุจ ุงูุฏูุฑ
2. ุนุฏู ุงุณู ุงูุฏูุฑ ุฃู ุงูุตูุงุญูุงุช
3. ุงุถุบุท "ุญูุธ ุงูุชุบููุฑุงุช"

## ุงูุตูุงุญูุงุช ุงููุชุงุญุฉ

### Dashboard
- `view dashboard` - ุนุฑุถ ููุญุฉ ุงูุชุญูู
- `view dashboard real-time` - ุนุฑุถ ููุญุฉ ุงูุชุญูู ูู ุงูููุช ุงููุนูู

### Users (ุงููุณุชุฎุฏููู)
- `view users` - ุนุฑุถ ุงููุณุชุฎุฏููู
- `create users` - ุฅุถุงูุฉ ูุณุชุฎุฏููู
- `edit users` - ุชุนุฏูู ุงููุณุชุฎุฏููู
- `delete users` - ุญุฐู ุงููุณุชุฎุฏููู
- ูุบูุฑูุง...

### Sessions (ุงูุฌูุณุงุช)
- `view sessions` - ุนุฑุถ ุงูุฌูุณุงุช
- `create sessions` - ุฅูุดุงุก ุฌูุณุงุช
- `edit sessions` - ุชุนุฏูู ุงูุฌูุณุงุช
- `delete sessions` - ุญุฐู ุงูุฌูุณุงุช
- ูุบูุฑูุง...

### Drinks (ุงููุดุฑูุจุงุช)
- `view drinks` - ุนุฑุถ ุงููุดุฑูุจุงุช
- `create drinks` - ุฅุถุงูุฉ ูุดุฑูุจุงุช
- `edit drinks` - ุชุนุฏูู ุงููุดุฑูุจุงุช
- `delete drinks` - ุญุฐู ุงููุดุฑูุจุงุช

### Drink Invoices (ููุงุชูุฑ ุงููุดุฑูุจุงุช)
- `view drink invoices` - ุนุฑุถ ุงูููุงุชูุฑ
- `create drink invoices` - ุฅูุดุงุก ููุงุชูุฑ
- `edit drink invoices` - ุชุนุฏูู ุงูููุงุชูุฑ
- `delete drink invoices` - ุญุฐู ุงูููุงุชูุฑ
- ูุบูุฑูุง...

### ูุฃูุณุงู ุฃุฎุฑู...
- Calendar Notes
- Employee Notes
- Reports
- Audit
- Expenses
- Employee Salaries
- Electricity Meter Readings
- Booking Requests
- Roles & Permissions

## ุงูุฃุฏูุงุฑ ุงูุงูุชุฑุงุถูุฉ

### Admin (ูุฏูุฑ ุงููุธุงู)
- ูุฏูู ุฌููุน ุงูุตูุงุญูุงุช
- ูุง ูููู ุญุฐูู
- ููููู ุฅุฏุงุฑุฉ ุฌููุน ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช

### Manager (ูุฏูุฑ)
- ูุฏูู ุตูุงุญูุงุช ุนุฑุถ ุฃุณุงุณูุฉ
- ูููู ุชุฎุตูุต ุตูุงุญูุงุชู

## ุงุณุชุฎุฏุงู ุงูุตูุงุญูุงุช ูู ุงูููุฏ

### ูู Routes
```php
// ุญูุงูุฉ route ุจุตูุงุญูุฉ ูุงุญุฏุฉ
Route::get('/drinks', [DrinkController::class, 'index'])
    ->middleware('permission:view drinks');

// ุญูุงูุฉ route ุจุนุฏุฉ ุตูุงุญูุงุช (ุฃู ูุงุญุฏุฉ ูุงููุฉ)
Route::resource('drinks', DrinkController::class)
    ->middleware('permission:view drinks|create drinks|edit drinks|delete drinks');

// ุญูุงูุฉ route ุจุฏูุฑ
Route::get('/admin', [AdminController::class, 'index'])
    ->middleware('role:admin');
```

### ูู Controllers
```php
// ุงูุชุญูู ูู ุงูุตูุงุญูุฉ
if (auth()->user()->can('view drinks')) {
    // ุงูููุฏ ููุง
}

// ุงูุชุญูู ูู ุงูุฏูุฑ
if (auth()->user()->hasRole('admin')) {
    // ุงูููุฏ ููุง
}

// ุงูุชุญูู ูู ุนุฏุฉ ุตูุงุญูุงุช
if (auth()->user()->hasAnyPermission(['view drinks', 'edit drinks'])) {
    // ุงูููุฏ ููุง
}
```

### ูู Blade Views
```blade
@can('view drinks')
    <a href="{{ route('drinks.index') }}">ุงููุดุฑูุจุงุช</a>
@endcan

@role('admin')
    <a href="{{ route('admin') }}">ููุญุฉ ุงูุฅุฏุงุฑุฉ</a>
@endrole

@hasanyrole('admin|manager')
    <a href="{{ route('dashboard') }}">ููุญุฉ ุงูุชุญูู</a>
@endhasanyrole
```

## ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ุชุซุจูุช ุงูุญุฒูุฉ
```bash
composer require spatie/laravel-permission
```

### 2. ูุดุฑ ุงููุงูุฌุฑูุดู
```bash
php artisan vendor:publish --provider="Spatie\Permission\PermissionServiceProvider"
php artisan migrate
```

### 3. ุชุดุบูู ุงูู Seeder
```bash
php artisan db:seed --class=PermissionSeeder
```

### 4. ุชุนููู ุงูุฃุฏูุงุฑ ูููุณุชุฎุฏููู ุงูููุฌูุฏูู
```bash
php artisan db:seed --class=AdminUserSeeder
```

## ููุงุญุธุงุช ูููุฉ

1. **ุญูุงูุฉ ุฏูุฑ Admin**: ูุง ูููู ุญุฐู ุฏูุฑ "admin"
2. **ุงูุชูุงูู ูุน ุงููุธุงู ุงููุฏูู**: ุงููุธุงู ูุฏุนู ููุงู ูู `user_type` ุงููุฏูู ูุงูุฃุฏูุงุฑ ุงูุฌุฏูุฏุฉ
3. **ุงููุงุด**: Spatie ูุณุชุฎุฏู ุงููุงุด ูุชุฎุฒูู ุงูุตูุงุญูุงุชุ ูุฏ ุชุญุชุงุฌ ูุชุดุบูู:
   ```bash
   php artisan permission:cache-reset
   ```

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุณุชุฎุฏู ูุง ูููู ุงูุตูุงุญูุงุช
- ุชุฃูุฏ ูู ุชุนููู ุงูุฏูุฑ ูููุณุชุฎุฏู
- ุชุฃูุฏ ูู ุชุนููู ุงูุตูุงุญูุงุช ููุฏูุฑ
- ุงูุณุญ ุงููุงุด: `php artisan permission:cache-reset`

### ุงูุตูุงุญูุงุช ูุง ุชุธูุฑ
- ุชุฃูุฏ ูู ุชุดุบูู `PermissionSeeder`
- ุชุญูู ูู ูุฌูุฏ ุงูุตูุงุญูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ุงูุฏุนู

ูููุฒูุฏ ูู ุงููุนูููุงุชุ ุฑุงุฌุน [ูุซุงุฆู Spatie Laravel Permission](https://spatie.be/docs/laravel-permission/v6/introduction)

